import{j as e,L as u}from"./index-BO6LENQj.js";import{u as c}from"./index.esm-Dyd2j-hj.js";function h(){const{register:r,handleSubmit:o,reset:i,getValues:n,formState:{errors:s,isSubmitting:l}}=c({defaultValues:{username:"",email:"",password:"",confirmPassword:""}}),m=async a=>{try{let t=await fetch("http://localhost:3000/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok)throw new Error("Something went wrong!");let d=await t.text();console.log(a,d),i({})}catch(t){console.error(t),s.formError={message:"Registration failed. Please try again."}}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:e.jsxs("form",{onSubmit:o(m),className:"w-full max-w-sm px-8 pt-6 pb-8 mb-4 bg-white rounded shadow-md",children:[e.jsx("h2",{className:"mb-6 text-2xl font-bold text-center",children:"Register"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{placeholder:"Username",...r("username",{required:{value:!0,message:"Username is required"},minLength:{value:2,message:"Username must be at least 2 characters"},maxLength:{value:20,message:"Username must be at most 20 characters"}}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.username&&e.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.username.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{placeholder:"Email",...r("email",{required:{value:!0,message:"Email is required"},pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.email&&e.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.email.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{placeholder:"Password",...r("password",{required:{value:!0,message:"Password is required"},minLength:{value:4,message:"Password must be at least 4 characters"},maxLength:{value:20,message:"Password must be at most 20 characters"}}),type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.password&&e.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.password.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{placeholder:"Confirm Password",...r("confirmPassword",{required:{value:!0,message:"Confirm Password is required"},validate:a=>a===n("password")||"Passwords do not match"}),type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.confirmPassword&&e.jsx("div",{className:"mt-1 text-sm text-red-500",children:s.confirmPassword.message})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{type:"submit",disabled:l,className:"w-full px-4 py-2 font-bold text-white rounded bg-primary hover:bg-secondary focus:outline-none focus:shadow-outline",children:"Register"})}),s.formError&&e.jsx("div",{className:"mt-4 text-sm text-red-500",children:s.formError.message}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("h3",{children:["Already have an account?"," ",e.jsx(u,{to:"/Login",className:"text-red-700 underline",children:"Login"})]})})]})})}export{h as default};
